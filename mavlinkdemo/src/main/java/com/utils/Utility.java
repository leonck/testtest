package com.utils;import android.content.Context;import android.media.MediaPlayer;import android.net.Uri;import java.io.IOException;/** * @project name: X-Hubsan * @class name：com.csk.hbsdrone.utils * @class describe: 播放声音资源的 * @anthor shengkun.cheng * @time 2017/4/5 16:11 * @change * @chang time: * @class describe: */public class Utility {    public static final String TAG = "Utility";    static class playMp3 extends Thread {        final Context context;        final Uri uri;        playMp3(Context context, Uri uri) {            this.context = context;            this.uri = uri;        }        public void run() {            MediaPlayer mp = new MediaPlayer();            mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {                public void onCompletion(MediaPlayer mediaPlayer) {                    mediaPlayer.release();                }            });            try {                mp.setDataSource(this.context,uri);                mp.prepare();                mp.start();            } catch (IOException e) {                e.printStackTrace();                mp.release();            }        }    }    /**     * 读取apk包中的资源     * @param context     * @param sound     */    public static synchronized void playSound(Context context, int sound) {        synchronized (Utility.class) {            new playMp3(context, Uri.parse(String.format("android.resource://%s/%d",                    context.getPackageName(), Integer.valueOf(sound)))).start();        }    }    /**     * 播放系统拍照声     * @param context     */    public static synchronized void playSoundSystemCameraClick(Context context) {        synchronized (Utility.class) {            new playMp3(context, Uri.parse("file:///system/media/audio/ui/camera_click.ogg")).start();        }    }    /**     * 播放系统录像声     * @param context     */    public static synchronized void playSoundSystemVideoRecord(Context context) {        synchronized (Utility.class) {            new playMp3(context, Uri.parse("file:///system/media/audio/ui/VideoRecord.ogg")).start();        }    }    /**     * 播放低电量     * @param context     */    public static synchronized void playSoundLowBattery(Context context, int sound) {        synchronized (Utility.class) {            new playMp3(context, Uri.parse(String.format("android.resource://%s/%d",                    context.getPackageName(), Integer.valueOf(sound)))).start();        }    }    /**     * 播放返航     * @param context     */    public static synchronized void playSoundReturnBack(Context context, int sound) {        synchronized (Utility.class) {            new playMp3(context, Uri.parse(String.format("android.resource://%s/%d",                    context.getPackageName(), Integer.valueOf(sound)))).start();        }    }}